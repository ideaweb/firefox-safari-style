/***************+**/
/* VERSION 0.2.10 */
/******************/

/* Icons: resource://gre/chrome/toolkit/skin/classic/global/icons/ */

@namespace xul url("http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul");

@namespace html url("http://www.w3.org/1999/xhtml");

$firefox-safari-style-show-favicons-in-tabs: true;
$firefox-safari-style-grayscale-favicons-in-tabs: false;
$firefox-safari-style-grayscale-extension-buttons-in-toolbar: true;
$firefox-safari-style-support-themes: false;

/*****************/
/* DEFAULT THEME */
/*****************/

/***************/
/* LIGHT THEME */
/***************/

:root {
    --firefox-safari-style-attention-color: #0a84ff;
    --firefox-safari-style-outline-color: #73a6f1;

    --firefox-safari-style-controls-width: 75px;

    /* Default Background color */
    --firefox-safari-style-background-color-active: #fdfdfd;
    /* Background color for inactive windows */
    --firefox-safari-style-background-color-inactive: #f0f0f0;
    /* Background color for private windows */
    --firefox-safari-style-background-color-private: #838383;

    /* Border colors */
    --firefox-safari-style-title-border-color-active: rgba(0,0,0,0.15);
    --firefox-safari-style-title-border-color-inactive: var(--firefox-safari-style-title-border-color-active);

    /******************/
    /* NAVIGATION BAR */
    /******************/

    /* Max height of navigation bar */
    --firefox-safari-style-bar-height: 52px;

    /* Border colors */
    --firefox-safari-style-bar-border-color-active: rgba(0,0,0,0.05);
    --firefox-safari-style-bar-border-color-inactive: var(--firefox-safari-style-bar-border-color-active);

    /* Input background */
    --firefox-safari-style-input-background-active: rgba(0,0,0,0.075);
    --firefox-safari-style-input-background-inactive: rgba(0,0,0,0.11);

    /********/
    /* TABS */
    /********/

    /* Max height of a tab */
    --firefox-safari-style-tab-height: 28px;

    /* Default background color */
    --firefox-safari-style-tab-background-color-inactive: rgba(0,0,0,0.05);
    /* Background active tab */
    --firefox-safari-style-tab-background-color-active: var(--firefox-safari-style-background-color-active);
    /* Button background hover on incative tab */
    --firefox-safari-style-tab-background-color-hover: rgba(0,0,0,0.1);
    /* Icon size of favicon, throbber, sound etc. */
    --firefox-safari-style-button-icon: 16px;

    /* Border colors */
    --firefox-safari-style-tab-border-color-active: rgba(0,0,0,0.1);
    --firefox-safari-style-tab-border-color-inactive: var(--firefox-safari-style-tab-border-color-active);
    --firefox-safari-style-tab-border-bottom-color-active: rgba(0,0,0,0.15);
    --firefox-safari-style-tab-border-bottom-color-inactive: var(--firefox-safari-style-tab-border-bottom-color-active);
    --firefox-safari-style-tab-border-left-color-active: rgba(0,0,0,0.15);
    --firefox-safari-style-tab-border-left-color-inactive: var(--firefox-safari-style-tab-border-left-color-active);

    /* Colors e.g. for tabs or bookmarks */
    --firefox-safari-style-tab-color: hsl(250, 5%, 5%);
    --firefox-safari-style-tab-hover-color: var(--firefox-safari-style-tab-color);
    --firefox-safari-style-tab-hover-background: var(--firefox-safari-style-input-background-active);

    /********************/
    /* BUTTONS (URLBAR) */
    /********************/

    /* Button default size */
    --firefox-safari-style-button-width: 32px;
    --firefox-safari-style-button-height: 28px;
    /* Button background */
    --firefox-safari-style-button-background-active: transparent;
    --firefox-safari-style-button-background-inactive: transparent;
    --firefox-safari-style-button-background-hover: var(--firefox-safari-style-input-background-active);
    /* Border color of buttons and urlbar */
    --firefox-safari-style-button-border-color: transparent;
    --firefox-safari-style-button-border-color-top: transparent;
    --firefox-safari-style-button-border-color-bottom: transparent;
    --firefox-safari-style-button-border-color-inactive: transparent;
    /* Font and icon color of buttons and urlbar */
    --firefox-safari-style-button-color: rgba(0,0,0,0.6);

    --tab-min-height: 0 !important;
    --space-above-tabbar: 0 !important;
    --toolbarbutton-vertical-text-padding: 4px !important;
}

/**************/
/* DARK THEME */
/**************/

:root:-moz-lwtheme-brighttext {

    /* Default Background color */
    --firefox-safari-style-background-color-active: #383839;
    /* Background color for inactive windows */
    --firefox-safari-style-background-color-inactive: #282828;
    /* Background color for private windows */
    --firefox-safari-style-background-color-private: #0d0d0d;

    /* Border colors */
    --firefox-safari-style-title-border-color-active: rgba(255,255,255,0.15);
    --firefox-safari-style-title-border-color-inactive: var(--firefox-safari-style-title-border-color-active);

    /******************/
    /* NAVIGATION BAR */
    /******************/

    /* Border colors */
    --firefox-safari-style-bar-border-color-active: rgba(255,255,255,0.05);
    --firefox-safari-style-bar-border-color-inactive: var(--firefox-safari-style-bar-border-color-active);

    /* Input background */
    --firefox-safari-style-input-background-active: rgba(255,255,255,0.05);
    --firefox-safari-style-input-background-inactive: rgba(255,255,255,0.11);

    /********/
    /* TABS */
    /********/

    /* Default background color */
    --firefox-safari-style-tab-background-color-inactive: rgba(0,0,0,0.4);
    /* Background active tab */
    --firefox-safari-style-tab-background-color-active: var(--firefox-safari-style-background-color-active);
    /* Button background hover on incative tab */
    --firefox-safari-style-tab-background-color-hover: rgba(0,0,0,0.1);

    /* Border colors */
    --firefox-safari-style-tab-border-color-active: var(--firefox-safari-style-background-color-active);
    --firefox-safari-style-tab-border-color-inactive: var(--firefox-safari-style-tab-border-color-active);

    /* Colors e.g. for tabs or bookmarks */
    --firefox-safari-style-tab-color: rgba(255,255,255,0.6);
    --firefox-safari-style-tab-hover-color: var(--firefox-safari-style-tab-color);
    --firefox-safari-style-tab-hover-background: var(--firefox-safari-style-input-background-active);

    /********************/
    /* BUTTONS (URLBAR) */
    /********************/

    /* Button background */
    --firefox-safari-style-button-background-hover: var(--firefox-safari-style-input-background-active);
    /* Border color of buttons and urlbar */
    --firefox-safari-style-tab-border-bottom-color-active: rgba(0,0,0,0.4);
    --firefox-safari-style-tab-border-bottom-color-inactive: var(--firefox-safari-style-tab-border-bottom-color-active);
    --firefox-safari-style-tab-border-left-color-active: rgba(255,255,255,0.2);
    --firefox-safari-style-tab-border-left-color-inactive: var(--firefox-safari-style-tab-border-left-color-active);

    /* Font and icon color of buttons and urlbar */
    --firefox-safari-style-button-color: rgba(255,255,255,0.7);
}

/******************/
/* FIREFOX THEMES */
/******************/

@if $firefox-safari-style-support-themes == true {

    :root, :root:-moz-lwtheme-brighttext {

        /* Default Background color */
        --firefox-safari-style-background-color-active: var(--toolbar-bgcolor);
        /* Background color for inactive windows */
        --firefox-safari-style-background-color-inactive: var(--firefox-safari-style-background-color-active);

        /* Default background color */
        --firefox-safari-style-tab-background-color-inactive: var(--lwt-accent-color);
        /* Background active tab */
        --firefox-safari-style-tab-background-color-active: var(--firefox-safari-style-background-color-active);
        /* Colors e.g. for tabs or bookmarks */
        --firefox-safari-style-tab-color: var(--lwt-tab-text, var(--toolbar-color));
        --firefox-safari-style-tab-hover-color: var(--firefox-safari-style-tab-color);
        --firefox-safari-style-tab-hover-background: var(--firefox-safari-style-input-background-active);

        /* Input background */
        --firefox-safari-style-input-background-active: var(--lwt-toolbar-field-background-color, hsla(0,0%,100%,.8));
        --firefox-safari-style-input-background-inactive: var(--firefox-safari-style-input-background-active);
    
        /* Button background */
        --firefox-safari-style-button-background-hover: var(--firefox-safari-style-input-background-active);
        
        /* Font and icon color of buttons and urlbar */
        --firefox-safari-style-button-color: var(--lwt-toolbar-field-color, black);
    }
}

@media (-moz-mac-yosemite-theme), (-moz-mac-big-sur-theme) {
    /*-moz-appearance: -moz-mac-vibrant-titlebar-light !important;*/
    :root {
        background-image: none !important;
    }
    #mainPopupSet {
        #pageActionActivatedActionPanel, 
        #pageActionPanel, 
        #editBookmarkPanel, 
        .browser-extension-panel,
        #widget-overflow,
        #downloadsPanel,
        #appMenu-popup,
        > panel {
            margin-top: 2px !important;
        }
        #editBookmarkPanel .panel-arrow {
            transform: translateX(-4px);
        }
        .panel-arrowcontent {
            box-shadow: none !important;
        }
    }
    #main-window {
        --toolbarbutton-hover-background: transparent !important;
        html|body {
            box-sizing: border-box;
        }
        html|body, #nav-bar, .tabbrowser-tab[selected="true"], #PersonalToolbar, #tabbrowser-tabpanels {
            @if $firefox-safari-style-support-themes == true {
                background-color: var(--firefox-safari-style-background-color-active) !important;
                &:-moz-window-inactive {
                    background-color: var(--firefox-safari-style-background-color-inactive) !important;
                }
            } @else {
                background: var(--firefox-safari-style-background-color-active) !important;
                &:-moz-window-inactive {
                    background: var(--firefox-safari-style-background-color-inactive) !important;
                }
            }
        }
        #TabsToolbar .toolbar-items {
            box-shadow: inset 0px 1px 0px var(--firefox-safari-style-tab-border-color-active), inset 0 2px 2px -1px var(--firefox-safari-style-tab-border-color-active);
            &:-moz-lwtheme-brighttext {
                box-shadow: inset 0px 1px 0px var(--firefox-safari-style-tab-border-bottom-color-active);
            }
            &:-moz-window-inactive {
                box-shadow: inset 0px 1px 0px var(--firefox-safari-style-tab-border-color-inactive), inset 0 2px 2px -1px var(--firefox-safari-style-tab-border-color-inactive) !important;
                &:-moz-lwtheme-brighttext {
                    box-shadow: inset 0px 1px 0px var(--firefox-safari-style-tab-border-bottom-color-inactive) !important;
                }
            }
        }
        .tabbrowser-tab:not([selected="true"]), 
        .toolbar-items #new-tab-button, 
        .toolbar-items #tabs-newtab-button, 
        .toolbar-items #alltabs-button,
        #alltabs-button {
            background-color: transparent !important;
            @if $firefox-safari-style-support-themes != true {
                background-image: linear-gradient(to bottom, var(--firefox-safari-style-tab-background-color-inactive) 0%, var(--firefox-safari-style-tab-background-color-inactive) 100%) !important;
            }
            &:not([disabled="true"]):hover {
                background-image: linear-gradient(to bottom, var(--firefox-safari-style-tab-background-color-hover) 0%, var(--firefox-safari-style-tab-background-color-hover) 100%) !important;
            }
        }
        &[lwt-popup-brighttext="true"]:not([sizemode="fullscreen"]) html|body {
            border-top: 1px solid black !important;
        }
        &[inFullscreen="true"] {
            html|body {
                border-color: transparent !important;
                .titlebar-buttonbox-container {
                    opacity: 0;
                }
            }
        }
        > * > box:not([id]) {
            display: flex;
        }
        &[inDOMFullscreen="true"] > * > box:not([id]) {
            display: none;
        }
    }
    #navigator-toolbox {
        display: flex;
        flex-direction: column;
        width: 100%;
        min-width: 100%;
        max-width: 100%;
        @if $firefox-safari-style-support-themes == true {
            background-color: var(--firefox-safari-style-tab-background-color-inactive) !important;
            background-image: var(--lwt-header-image) !important;
        } @else {
            background-image: none !important;
        }

        border-bottom: 1px solid var(--firefox-safari-style-tab-border-bottom-color-active) !important;
        &:-moz-window-inactive {
            border-bottom-color: var(--firefox-safari-style-tab-border-bottom-color-inactive) !important;
            toolbarbutton:not(#tabs-newtab-button), image {
                filter: grayscale(100%);
            }
            color: transparent;
        }
        
        #nav-bar {
            order: 1;
            flex: 1 1;
            padding-top: 11px !important;
            padding-right: 5px !important;
            padding-left: var(--firefox-safari-style-controls-width);
            #main-window[inFullscreen="true"] & {
                padding-left: 6px !important;
            }
            &, > hbox, > box, > toolbaritem {
                min-height: var(--firefox-safari-style-bar-height) !important;
                max-height: var(--firefox-safari-style-bar-height) !important;
            }
            > toolbarpaletteitem, #nav-bar-customization-target toolbarpaletteitem {
                &[removable="false"] {
                    opacity: 0.7 !important;
                }
                &[id*="wrapper-customizableui-special-spring"] {
                    opacity: 0.3 !important;
                    margin-left: 3px !important;
                    margin-right: 3px !important;
                }
            }
            #library-button[animate] > .toolbarbutton-icon {
                fill: var(--firefox-safari-style-button-color) !important;
            }
            #library-animatable-box {
                display: none !important;
            }
            > toolbarbutton, #nav-bar-customization-target toolbarbutton, #PanelUI-menu-button {
                &.toolbarbutton-1 {
                    fill: var(--firefox-safari-style-button-color) !important;
                    fill-opacity: 1 !important;
                    .toolbarbutton-text {
                        padding-top: var(--toolbarbutton-vertical-text-padding) !important;
                        color: var(--firefox-safari-style-button-color) !important;
                    }
                }
                &#nav-bar-overflow-button, &#nav-bar-overflow-button:hover {
                    margin-top: 0 !important;
                    &, image {
                        background-color: transparent !important;
                        &, .toolbarbutton-icon {
                            width: var(--firefox-safari-style-button-width) !important;
                            max-width: var(--firefox-safari-style-button-width) !important;
                            min-width: var(--firefox-safari-style-button-width) !important;
                            height: var(--firefox-safari-style-button-height) !important;
                            max-height: var(--firefox-safari-style-button-height) !important;
                            min-height: var(--firefox-safari-style-button-height) !important;
                            padding-left: 0 !important;
                            padding-right: 0 !important;
                        }
                    }
                    margin-left: 4px !important;
                    --toolbarbutton-border-radius: 5px !important;
                    border-radius: 5px !important;
                    &:hover:not([disabled="true"]):not(:-moz-window-inactive) {
                        background-color: var(--firefox-safari-style-button-background-hover) !important;
                    }
                    width: var(--firefox-safari-style-button-width) !important;
                }
                &:not(#tabs-newtab-button):not(#urlbar-zoom-button):not(#nav-bar-overflow-button) {
                    
                    background-color: var(--firefox-safari-style-button-background-active) !important;
                    &:hover:not([disabled="true"]):not(:-moz-window-inactive) {
                        background-color: var(--firefox-safari-style-button-background-hover) !important;
                    }
                    border: 1px solid var(--firefox-safari-style-button-border-color) !important;
                    @media
                    only screen and (   min--moz-device-pixel-ratio: 1.01),
                    only screen and (		min-device-pixel-ratio: 1.01),
                    only screen and (				min-resolution: 120dpi),
                    only screen and (				min-resolution: 1.3dppx) {
                        border-width: 0.5px !important;
                    }
                    border-top-color: var(--firefox-safari-style-button-border-color-top) !important;
                    border-bottom-color: var(--firefox-safari-style-button-border-color-bottom) !important;
                    
                    &:-moz-window-inactive {
                        background-color: var(--firefox-safari-style-button-background-inactive) !important;
                        border-color: var(--firefox-safari-style-button-border-color-inactive) !important;
                        border-top-color: var(--firefox-safari-style-button-border-color-inactive) !important;
                        border-bottom-color: var(--firefox-safari-style-button-border-color-inactive) !important;

                        &:-moz-lwtheme-brighttext {
                            background-color: var(--firefox-safari-style-button-background-active) !important;
                            border-color: var(--firefox-safari-style-button-border-color) !important;
                            border-top-color: var(--firefox-safari-style-button-border-color-top) !important;
                            border-bottom-color: var(--firefox-safari-style-button-border-color-bottom) !important;
                        }
                    }
                    border-radius: 5px !important;

                    margin-left: 4px !important;
                    &:not(#PanelUI-menu-button) {
                        margin-right: 0 !important;
                    }

                    height: var(--firefox-safari-style-button-height) !important;
                    min-height: var(--firefox-safari-style-button-height) !important;
                    max-height: var(--firefox-safari-style-button-height) !important;
                    width: var(--firefox-safari-style-button-width) !important;

                    &:not(#PanelUI-menu-button) {
                        image {
                            max-height: var(--firefox-safari-style-button-icon) !important;
                            max-width: var(--firefox-safari-style-button-icon) !important;
                        }
                    }
                    image {
                        &#fxa-avatar-image {
                            max-height: calc(var(--firefox-safari-style-button-icon) + 2px) !important;
                            max-width: calc(var(--firefox-safari-style-button-icon) + 2px) !important;
                        }
                        border-radius: 0 !important;
                        border: 0 !important;
                        background: transparent !important;
                        background-color: transparent !important;
                        padding: 0 !important;
                    }
                    stack {
                        padding: 0 !important;
                        &, &:hover {
                            background-color: transparent !important;
                        }
                    }
                    &#back-button, 
                    &#forward-button {
                        width: calc(var(--firefox-safari-style-button-height) + 2px) !important;
                        padding-inline-start: 2px !important;
                        padding-inline-end: 2px !important;
                        image {
                            list-style-image: url("chrome://global/skin/icons/arrow-left.svg");
                            max-height: calc(var(--firefox-safari-style-button-icon) + 2px) !important;
                            max-width: calc(var(--firefox-safari-style-button-icon) + 2px) !important;
                        }
                        * {
                            background-color: transparent !important;
                            box-shadow: none !important;
                        }
                    }
                    &#forward-button image {
                        transform: rotate(180deg);
                    }
                }
            }
            #nav-bar-customization-target {
                @media
                only screen and (   min--moz-device-pixel-ratio: 1.01),
                only screen and (		min-device-pixel-ratio: 1.01),
                only screen and (				min-resolution: 120dpi),
                only screen and (				min-resolution: 1.3dppx) {
                    margin-top: 0.5px !important;
                }
                #urlbar-container, #search-container {
                    padding: 0 !important;
                    #urlbar-input-container, &#search-container {
                        #main-window:not([privatebrowsingmode]) &, #main-window:not([privatebrowsingmode]) &:hover {
                            background: var(--firefox-safari-style-background-color-active) !important;
                            background-image: linear-gradient(to bottom, var(--firefox-safari-style-input-background-active) 0%, var(--firefox-safari-style-input-background-active) 100%) !important;
                            &:-moz-window-inactive {
                                background: var(--firefox-safari-style-background-color-inactive) !important;
                                background-image: linear-gradient(to bottom, var(--firefox-safari-style-input-background-inactive) 0%, var(--firefox-safari-style-input-background-inactive) 100%) !important;
                            }
                        }
                        display: flex;
                        align-items: center;
                        .urlbar-input-box {
                            flex: 1;
                        }
                        height: var(--firefox-safari-style-button-height) !important;
                        min-height: var(--firefox-safari-style-button-height) !important;
                        > *, #identity-box, #urlbar-scheme, #urlbar-input {
                            height: calc(var(--firefox-safari-style-button-height) - 2px) !important;
                            min-height: calc(var(--firefox-safari-style-button-height) - 2px) !important;
                        }
                        #pageActionSeparator {
                            visibility: visible !important;
                            margin-right: 6px !important;
                        }
                    }
                    #searchbar {
                        display: flex;
                        .searchbar-search-icon-overlay, .search-go-container {
                            display:  none !important;
                        }
                        .searchbar-textbox {
                            flex: 1 1;
                        }
                    }
                    #urlbar, #searchbar {
                        &:-moz-window-inactive {
                            opacity: 0.5 !important;
                            > * {
                                opacity: 1 !important;
                            }
                        }
                        padding-top: 0;
                        margin-left: 2px;
                        margin-right: 2px;
                        height: var(--firefox-safari-style-button-height) !important;
                        min-height: var(--firefox-safari-style-button-height) !important;
                        border: 0 solid transparent !important;
                        box-shadow: none !important;
                        box-sizing: border-box;
                        top: 0 !important;
                        left: 0 !important;
                        width: 100% !important;
                        height: calc(var(--urlbar-height) + 0px) !important;
                        min-height: calc(var(--urlbar-height) + 0px) !important;
                        max-height: calc(var(--urlbar-height) + 0px) !important;
                        &[focused="true"]:not(:-moz-window-inactive) {
                            box-shadow: 0 0 0 2px var(--firefox-safari-style-outline-color) !important;
                        }
                        @media
                        only screen and (   min--moz-device-pixel-ratio: 1.01),
                        only screen and (		min-device-pixel-ratio: 1.01),
                        only screen and (				min-resolution: 120dpi),
                        only screen and (				min-resolution: 1.3dppx) {
                            border-width: 0.5px !important;
                        }
                        background-color: var(--firefox-safari-style-input-background-active) !important;
                        #main-window[privatebrowsingmode] & {
                            background-color: var(--firefox-safari-style-background-color-private) !important;
                        }
                        &[breakout] {
                            &, * {
                                transition: none !important;
                            }
                            #urlbar-background {
                                background: none !important;
                                background-color: transparent !important;
                                border-color: transparent !important;
                                box-shadow: none !important;
                            }
                            &[breakout-extend] {
                                #urlbar-background {
                                    opacity: 0 !important;
                                }
                                > #urlbar-input-container {
                                    padding-block: 0 !important;
                                    padding-inline: 0 !important;
                                }
                                &[open] {
                                    &, > #urlbar-input-container {
                                        border-bottom-color: transparent !important;
                                        border-bottom-left-radius: 0 !important;
                                        border-bottom-right-radius: 0 !important;
                                    }
                                }
                            }
                        }
                        .urlbarView {
                            position: absolute !important;
                            left: -4px !important;  
                            top: calc(var(--firefox-safari-style-tab-height) - 1px) !important;
                            margin-inline: 2px !important;
                            width: calc(100% + 4px) !important;
                            border-top: 0 !important;
                            border-right: 2px solid var(--firefox-safari-style-outline-color) !important;
                            border-bottom: 2px solid var(--firefox-safari-style-outline-color) !important;
                            border-left: 2px solid var(--firefox-safari-style-outline-color) !important;
                            background-color: var(--firefox-safari-style-button-background-active) !important;
                            border-bottom-left-radius: 5px !important;
                            border-bottom-right-radius: 5px !important;
                            > .urlbarView-body-outer,
                            > .search-one-offs {
                                &, &:hover {
                                    background: var(--firefox-safari-style-background-color-active) !important;
                                    background-image: linear-gradient(to bottom, var(--firefox-safari-style-input-background-active) 0%, var(--firefox-safari-style-input-background-active) 100%) !important;
                                    &:-moz-window-inactive {
                                        background: var(--firefox-safari-style-background-color-inactive) !important;
                                        background-image: linear-gradient(to bottom, var(--firefox-safari-style-input-background-inactive) 0%, var(--firefox-safari-style-input-background-inactive) 100%) !important;
                                    }
                                    #main-window[privatebrowsingmode] & {
                                        background-color: var(--firefox-safari-style-background-color-private) !important;
                                    }
                                }
                            }
                            > .urlbarView-body-outer {
                                .urlbarView-body-inner {
                                    border-top: 0 !important;
                                    * {
                                        border-radius: 0 !important;
                                    }
                                    .urlbarView-results {
                                        > :first-child {
                                            margin-top: 2px;
                                        }
                                        .urlbarView-row {
                                            padding: 0 !important;
                                        }
                                    }
                                }
                            }
                            > .search-one-offs {
                                padding-top: 0 !important;
                                padding-bottom: 0 !important;
                                .search-panel-one-offs-header {
                                    display: none !important;
                                }
                            }
                        }
                        &, #urlbar-input-container {
                            --toolbarbutton-border-radius: 5px !important;
                            border-radius: 5px !important;
                        }
                        &, html|input#urlbar-input, html|input#urlbar-input *, #searchbar-textbox, #searchbar-textbox * {
                            font-size: 13px !important;
                            color: var(--firefox-safari-style-button-color) !important;
                            #main-window[privatebrowsingmode] & {
                                color: white !important;
                            }
                        }
                        html|input#urlbar-input {
                            padding-left: 2px !important;
                        }
                        &[focused="true"][usertyping="true"] {
                            #identity-box, .urlbar-input-box {
                                padding-top: 0px !important;
                            }
                        }
                        .urlbar-icon {
                            width: 20px !important;
                            height: 20px !important;
                            padding: 3px !important;
                        }
                        #identity-box image {
                            max-height: 13px !important;
                            max-width: 13px !important;
                            transform: translate(2px, -1px);
                            @media
                            only screen and (   min--moz-device-pixel-ratio: 1.01),
                            only screen and (		min-device-pixel-ratio: 1.01),
                            only screen and (				min-resolution: 120dpi),
                            only screen and (				min-resolution: 1.3dppx) {
                                transform: translate(2px, -0.5px);
                            }
                        }
                        #identity-box.extensionPage image {
                            transform: translate(2px, -1px);
                        }
                        #identity-icon-label {
                            padding-inline-start: 5px;
                        }
                        image:not(#userContext-indicator),
                        #identity-box, 
                        #tracking-protection-icon-container,
                        .urlbar-icon {
                            fill: var(--firefox-safari-style-button-color) !important;
                            fill-opacity: 1 !important;
                        }
                        #main-window[privatebrowsingmode] & image {
                            fill: white !important;
                            fill-opacity: 1 !important;
                        }
                        #searchbar-search-button {
                            margin-right: 3px;
                        }
                    }
                }
                #back-button,
                #forward-button,
                #reload-button,
                #stop-button,
                #home-button,
                #nav-bar-overflow-button,
                .toolbarbutton-1 {
                    &[disabled="true"] {
                        opacity: 1 !important;
                        image {
                            opacity: 0.5 !important;
                        }
                    }
                    &:-moz-window-inactive {
                        opacity: 0.5 !important; 
                        &:-moz-lwtheme-brighttext {
                            opacity: 0.35 !important; 
                        }
                    }
                }
                #downloads-button {
                    &, &:hover, .toolbarbutton-badge-stack, .toolbarbutton-badge-stack:hover {
                        background-color: transparent !important;
                    }
                    .toolbarbutton-badge-stack {
                        padding: 0 !important;
                        transform: scale(0.86) translateY(-1px);
                        #downloads-indicator-progress-outer {
                            transform: scale(1.1) translateY(1px);
                            @media
                            only screen and (   min--moz-device-pixel-ratio: 1.01),
                            only screen and (		min-device-pixel-ratio: 1.01),
                            only screen and (				min-resolution: 120dpi),
                            only screen and (				min-resolution: 1.3dppx) {
                                transform: scale(1.1) translateY(0.5px);
                            }
                        }
                    }
                }
                .webextension-browser-action .toolbarbutton-badge {
                    transform: scale(0.8) translateY(1px);
                }
                :not(.urlbar-icon-wrapper) > .urlbar-icon:not([disabled]):hover, .urlbar-icon-wrapper:not([disabled]):hover {
                    background-color: transparent !important;
                }
                #pageActionButton {
                    list-style-image: none !important;
                    background: url("chrome://global/skin/icons/more.svg") 50% 50% / 12px 12px no-repeat;
                }
                #pocket-button {
                    list-style-image: none !important;
                    background: url("chrome://browser/skin/pocket-outline.svg") 50% 50% / 12px 12px no-repeat;
                }
                #pocket-button-animatable-box {
                    display: none !important;
                }
                #star-button {
                    list-style-image: none !important;
                    background: url("chrome://browser/skin/bookmark-hollow.svg") 50% 50% / 12px 12px no-repeat;
                    margin-right: 6px;
                    margin-top: -2px !important;
                    &[starred="true"] {
                        background: var(--firefox-safari-style-attention-color) !important;
                        mask: url("chrome://browser/skin/bookmark.svg") 50% 50% / 12px 12px no-repeat;
                    }
                }
                #star-button-animatable-box {
                    display: none !important;
                }
                #urlbar-zoom-button, #userContext-icons, #contextual-feature-recommendation {
                    &, .toolbarbutton-text, #userContext-label {
                        border-radius: 3px !important;
                        border-width: 0 !important;
                        background-color: var(--firefox-safari-style-attention-color) !important;
                        border-color: transparent !important;
                        padding: 1px 2px 1px 2px !important;
                        font-size: 9px !important;
                        margin-top: -1px !important;
                        color: #fff !important;
                        animation: none !important;
                    }
                    &:not([hidden="true"]) + #pageActionSeparator {
                        margin-left: 0 !important;
                    }
                }
                #contextual-feature-recommendation {
                    display: none !important;
                }
                #userContext-icons {
                    &, #userContext-label {
                        background-color: var(--identity-tab-color) !important;
                    }
                    #userContext-indicator {
                        fill: #fff !important;
                        min-width: 10px !important;
                        width: 10px !important;
                        height: 10px !important;
                        min-height: 10px !important;
                        margin-left: 0 !important;
                        margin-right: 2px !important;
                    }
                }
                #reader-mode-button {
                    list-style-image: none !important;
                    background: url(chrome://browser/skin/readerMode.svg) 50% 50% / 12px 12px no-repeat;
                }
                :not(.urlbar-icon-wrapper) > .urlbar-icon:not([disabled])[open], 
                :not(.urlbar-icon-wrapper) > .urlbar-icon:not([disabled]):hover:active, 
                .urlbar-icon-wrapper:not([disabled])[open], 
                .urlbar-icon-wrapper:not([disabled]):hover:active {
                    background-color: transparent !important;
                }
            }
            #PanelUI-button {
                margin-left: 0 !important;
                margin-right: 7px !important;
                border-width: 0 !important;
                .toolbarbutton-badge {
                    margin-top: -8px !important;
                    margin-left: 3px !important;
                }
            }
            #PanelUI-menu-button {
                --firefox-safari-style-menu-icon-size: 16px; 
                .toolbarbutton-badge-stack {
                    padding: 0 !important;
                    @media
                    only screen and (   min--moz-device-pixel-ratio: 1.01),
                    only screen and (		min-device-pixel-ratio: 1.01),
                    only screen and (				min-resolution: 120dpi),
                    only screen and (				min-resolution: 1.3dppx) {
                        transform: scale(1.1);
                    }
                }
                .toolbarbutton-icon {
                    width: var(--firefox-safari-style-menu-icon-size) !important;
                    min-width: var(--firefox-safari-style-menu-icon-size) !important;
                    max-width: var(--firefox-safari-style-menu-icon-size) !important;
                    height: var(--firefox-safari-style-menu-icon-size) !important;
                    min-height: var(--firefox-safari-style-menu-icon-size) !important;
                    max-height: var(--firefox-safari-style-menu-icon-size) !important;
                    /*list-style-image: url("chrome://global/skin/icons/more.svg");*/
                }
            }
            #PanelUI-button,
            #PanelUI-menu-button {
                margin-left: 0 !important;
                padding-left: 0 !important;
                padding-right: 0 !important;
                width: var(--firefox-safari-style-button-width) !important;
                max-width: var(--firefox-safari-style-button-width) !important;
                min-width: var(--firefox-safari-style-button-width) !important;
                height: var(--firefox-safari-style-button-height);
                max-height: var(--firefox-safari-style-button-height);
                min-height: var(--firefox-safari-style-button-height);
                &, &:hover, .toolbarbutton-badge-stack, .toolbarbutton-badge-stack:hover {
                    background-color: transparent !important;
                }
            }
            #fxa-toolbar-menu-button {
                &, &:hover, .toolbarbutton-badge-stack, .toolbarbutton-badge-stack:hover {
                    background-color: transparent !important;
                }
                .toolbarbutton-badge-stack {
                    padding-top: 4px !important;
                    padding-bottom: 4px !important;
                }
            }
            @if $firefox-safari-style-grayscale-extension-buttons-in-toolbar == true {
                toolbarpaletteitem, toolbarbutton {
                    &.webextension-browser-action .toolbarbutton-icon {
                        filter: grayscale(100%);
                    }
                }
            }
            > panel {
                margin-top: 3px !important;
            }
        }
        #PersonalToolbar {
            order: 2;
            flex: 1 1;
            
            height: var(--firefox-safari-style-tab-height) !important;
            min-height: var(--firefox-safari-style-tab-height) !important;
            max-height: var(--firefox-safari-style-tab-height) !important;

            &[collapsed="true"] {
                display: none !important;
            }

            #PlacesToolbarItems {
                margin-top: 3px !important; 
                &,  > * {
                    max-height: calc(var(--firefox-safari-style-tab-height) - 7px) !important;
                }
            }
            #PlacesChevron {
                transform: translateX(5px) translateY(1px);
                border-radius: 0 !important;
                .toolbarbutton-icon { 
                    width: var(--firefox-safari-style-button-icon) !important;
                    height: var(--firefox-safari-style-button-icon) !important;
                    fill: var(--firefox-safari-style-button-color) !important;
                    margin-right: 1px !important;
                    &, &:hover {
                        background-color: transparent !important;
                    }
                }
                &, &:hover {
                    background-color: transparent !important;
                }
                &:-moz-lwtheme-brighttext {
                    opacity: 0.5 !important; 
                }
            }
            padding-top: 0 !important;
            padding-bottom: 0 !important;
            
            border-top: 1px solid var(--firefox-safari-style-bar-border-color-active) !important;
            &:-moz-window-inactive {
                border-top-color: var(--firefox-safari-style-bar-border-color-inactive) !important;
            }

            #personal-bookmarks {
                #PlacesToolbar {
                    > hbox {
                        display: flex;
                        justify-content: center;
                    }
                }
                #PlacesToolbarItems {
                    .bookmark-item {
                        .toolbarbutton-icon[type="menu"] + .toolbarbutton-text {
                            background: url("chrome://global/skin/icons/arrow-dropdown-16.svg") 100% 50% / 9px 9px no-repeat;
                            padding-right: 12px !important;
                        }
                        padding-top: 0 !important;
                        padding-bottom: 0 !important;
                    }
                }
            }

            > toolbaritem:not(#personal-bookmarks) {
                toolbarbutton {
                    margin-top: 3px !important;
                    height: 16px !important;
                    max-height: 16px !important;
                    & image {
                        transform: scale(0.9);
                    }
                }
            }
        }
        #titlebar {
            order: 3;
            flex: 1 1;
            /*height: var(--firefox-safari-style-tab-height) !important;
            min-height: var(--firefox-safari-style-tab-height) !important;*/
            max-height: var(--firefox-safari-style-tab-height) !important;
            /* Show alternate window controls */
            > #toolbar-menubar {
                visibility: visible !important;
                #menubar-items, spacer {
                    display: none !important ;
                }
                .titlebar-buttonbox-container {
                    display: block !important;
                    position: absolute;
                    top: 0;
                    min-height: 27px;
                    > .titlebar-buttonbox {
                        margin-top: 18px;
                        margin-left: 17px;
                    }
                }
            }
            #TabsToolbar {
                min-height: 0 !important;
                /*height: var(--firefox-safari-style-tab-height);*/
                
                /* Hide window controls */
                .titlebar-buttonbox-container, #menubar-items {
                    display: none !important ;
                }
                .titlebar-spacer[type="pre-tabs"], .titlebar-spacer[type="post-tabs"] {
                    max-width: 1px
                }
                /* New tab button */
                #wrapper-alltabs-button {
                    opacity: 1 !important;
                }
                #tabs-newtab-button, #new-tab-button, #alltabs-button {
                    height: calc(var(--firefox-safari-style-tab-height) - 1px);
                    opacity: 1 !important;
                    border-left: 1px solid var(--firefox-safari-style-tab-border-left-color-active) !important;
                    &:-moz-window-inactive {
                        border-left: 1px solid var(--firefox-safari-style-tab-border-left-color-inactive) !important;
                    }
                    margin-left: auto !important;
                    min-width: 25px !important;
                    max-width: 25px !important;
                    image,
                    &#alltabs-button > stack {
                        opacity: 0.5 !important;
                        &:-moz-lwtheme-brighttext {
                            opacity: 1 !important;
                        }
                        &:-moz-window-inactive {
                            opacity: 0.5 !important; 
                            &:-moz-lwtheme-brighttext {
                                opacity: 0.35 !important; 
                            }
                        }
                    }
                    .toolbarbutton-icon { 
                        width: 21px !important;
                        height: 21px !important;
                        fill: var(--firefox-safari-style-tab-color) !important;
                        &, &:hover {
                            background-color: transparent !important;
                        }
                    }
                    &#alltabs-button {
                        list-style: none !important;
                        fill: var(--firefox-safari-style-tab-color) !important;
                        > stack {
                            * {
                                display: none !important;
                            }
                        } 
                        > stack {
                            opacity: 1 !important;
                            display: block !important;
                            background: url(chrome://global/skin/icons/spinner-arrow-down.svg) 50% 50% / 9px 9px no-repeat !important;
                        }
                        &[open="true"] stack, &[open="true"]:hover stack {
                            background-image: url(chrome://global/skin/icons/spinner-arrow-up.svg) !important;
                        }
                    }
                }
                .toolbar-items {
                    &, #tabbrowser-tabs, tab.tabbrowser-tab, tab.tabbrowser-tab::after, tab.tabbrowser-tab stack, tab.tabbrowser-tab .tab-content {
                        max-height: var(--firefox-safari-style-tab-height) !important;
                    }
                    tab.tabbrowser-tab stack {
                        border-top: 1px solid transparent;
                        height: var(--firefox-safari-style-tab-height) !important;
                        min-height: var(--firefox-safari-style-tab-height) !important;
                        max-height: var(--firefox-safari-style-tab-height) !important;
                    }
                    #tabbrowser-tabs {
                        &, &[movingtab] {
                            margin-top: 0 !important;
                            margin-bottom: 0 !important;
                            padding-top: 0 !important;
                            padding-bottom: 0 !important;
                        }
                    }
                    overflow: hidden;
                    &, > hbox {
                        width: 100% !important;
                    }
                    .tab-line {
                        display: none;
                    }
                }
                .titlebar-spacer[type="pre-tabs"] {
                    border-inline-end: 1px solid transparent !important;
                }
                .tabbrowser-tab {
                    > .tab-stack {
                        padding-top: 5px;
                        max-width: 100%;
                    }
                    .tab-label-container[pinned] {
                        display: none !important;
                    }
                    &:not([fadein="true"]) {
                        display: none;
                    }
                    .tab-background {
                        width: 100% !important;
                        border: 0 !important;
                        order: 2;
                        height: 2px;
                        margin-top: -3px;
                        background: transparent !important;
                        *:not(.tab-bottom-line) {
                            display: none;
                        }
                        .tab-bottom-line {
                            background: var(--identity-tab-color) !important;
                        }
                    }
                    border-left: 1px solid transparent !important;
                    &[fadein="true"] ~ .tabbrowser-tab {
                        border-left: 1px solid var(--firefox-safari-style-tab-border-left-color-active) !important;
                        &:-moz-window-inactive {
                            border-left-color: var(--firefox-safari-style-tab-border-left-color-inactive) !important;
                        }
                    }
                    .tab-label-container:-moz-window-inactive {
                        opacity: 0.55 !important;
                        &:-moz-lwtheme-brighttext {
                            opacity: 1 !important;
                        }
                    }
                    .tab-content {
                        overflow: hidden;
                        &:-moz-window-inactive {
                            opacity: 0.55 !important;
                        }
                        &:-moz-lwtheme-brighttext {
                            opacity: 1 !important;
                        }
                        display: flex;
                        flex-direction: row;
                        position: relative;
                        .tab-throbber {
                            -moz-context-properties: initial !important;
                            filter: grayscale(100%);
                        }
                        .tab-throbber,
                        .tab-icon-image,
                        .tab-close-button {
                            order: 1;
                        }
                        .tab-throbber,
                        .tab-icon-image,
                        .tab-close-button,
                        .tab-icon-sound {
                            fill: var(--firefox-safari-style-button-color) !important;
                        }
                        .tab-throbber:not([pinned]),
                        .tab-icon-image:not([pinned]),
                        .tab-icon-image:not([pinned]) ~ .tab-close-button {
                            margin-left: -3px !important;
                            margin-right: 6px !important;
                            box-sizing: content-box;
                        }
                        .tab-throbber {
                            transform: translateY(-1px);
                        }
                        .tab-icon-image {
                            margin-top: 0 !important;
                            border-radius: 2px;
                            &:not([src]) {
                                &:not([busy]) {
                                    display: block;
                                }
                                list-style-image: none !important;
                            }
                        }
                        .tab-throbber,
                        .tab-icon-image {
                            min-width: 16px;
                        }
                        .tab-close-button {
                            display: none;
                            margin-top: 0 !important;
                            fill: var(--firefox-safari-style-tab-color) !important;
                            padding: 1px;
                            width: 14px;
                            min-width: 14px;
                            height: 14px; 
                        }
                        .tab-sharing-icon-overlay,
                        .tab-icon-overlay {
                            display: none !important;
                        }
                        .tab-label-container {
                            order: 2;
                            flex: 1 1 100%;
                            margin-top: -1px !important;
                            text-align: center !important;
                            display: flex;
                            max-width: 100%;
                            .tab-label {
                                flex: 1 1;
                                margin-top: 0 !important;
                                color: var(--firefox-safari-style-tab-color) !important;
                            }
                        }
                        &[selected="true"] {
                            .tab-label-container {
                                .tab-label:-moz-lwtheme-brighttext {
                                    color: white !important;
                                }
                            }
                        }
                        &:-moz-window-inactive:-moz-lwtheme-brighttext {
                            .tab-label {
                                opacity: 0.7;
                            }
                        }
                        .tab-icon-sound {
                            order: 3;
                            width: 14px !important;
                            height: 14px !important; 
                            margin-right: -3px !important;
                            margin-top: 0 !important;
                        }
                        .tab-icon-sound[pictureinpicture]:not(:hover), 
                        .tab-icon-sound[soundplaying]:not(:hover), 
                        .tab-icon-sound[muted]:not(:hover), 
                        .tab-icon-sound[activemedia-blocked]:not(:hover) {
                            opacity: 1 !important;
                        }
                        .tab-icon-image:not([pinned]) ~ .tab-icon-sound:not([soundplaying]):not([muted]):not([activemedia-blocked]):not([pictureinpicture]), 
                        .tab-icon-image:not([pinned]) ~ .tab-icon-sound/*,
                        .tab-icon-image:not([busy]):not([pinned]):not([src]) ~ .tab-close-button*/ {
                            display: block !important;
                            opacity: 0;
                        }
                        @if $firefox-safari-style-show-favicons-in-tabs == false {
                            .tab-icon-image:not([busy]):not([pinned]) ~ .tab-close-button {
                                display: block !important;
                                opacity: 0;
                            }
                            .tab-icon-image:not([pinned]) {
                                display: none !important;
                            }
                        }
                        .tab-label {
                            padding-right: 9px !important;
                        }
                        .tab-icon-image:-moz-window-inactive {
                            opacity: 0.5 !important;
                        }
                        @if $firefox-safari-style-grayscale-favicons-in-tabs == true {
                            .tab-icon-image {
                                filter: grayscale(100%);
                            }
                        }
                    }
                    &::before, &::after {
                        display: none !important;
                    }
                    &[pinned] {
                        width: 38px;
                        max-width: 38px;
                        min-width: 38px;
                        overflow: hidden !important;
                        .tab-throbber,
                        .tab-icon-image {
                            position: relative;
                            left: -1px;
                        }
                        & + .tabbrowser-tab[pinned] {
                            width: 39px;
                            max-width: 39px;
                            min-width: 39px;
                        }
                    }
                    &:-moz-any([image], [pinned]) > .tab-stack > .tab-content[attention]:not([selected="true"]), 
                    > .tab-stack > .tab-content[pinned][titlechanged]:not([selected="true"]) {
                        background: none !important;
                    }
                    &:hover .tab-content:not([pinned]) .tab-icon-image,
                    &:hover .tab-content:not([pinned]) .tab-icon-image:not([src]),
                    &:hover .tab-content:not([pinned]) .tab-throbber {
                        display: none !important;
                    }
                    &:hover .tab-content:not([pinned]) .tab-close-button {
                        display: block !important;
                        opacity: 0.8 !important;
                    }
                }
                .tab-content {
                    overflow: hidden !important;
                }
                .tab-loading-burst,
                .private-browsing-indicator {
                    display: none;
                }
            }
        }
    }
    #new-tab-button {
        list-style-image: url(chrome://browser/skin/add.svg) !important;
    }
    #urlbar, #searchbar {
        border-width: 0 !important;
    }
    #searchbar,
    #search-container,
    #wrapper-search-container,
    #extension-icon[tooltiptext*="NelliTab"], 
    #identity-icon[tooltiptext*="NelliTab"] ~ #identity-icon-labels, 
    #identity-icon-label[value*="NelliTab"] { 
        display: none !important;
    }
    #customization-panelWrapper {
        transform: translateX(12px);
    }
    #PersonalToolbar .toolbarbutton-1:not([disabled="true"]):not([checked]):not([open]):not(:active), 
    .tabbrowser-arrowscrollbox:not([scrolledtostart="true"])::part(scrollbutton-up), 
    .tabbrowser-arrowscrollbox:not([scrolledtoend="true"])::part(scrollbutton-down), 
    .findbar-button:not(:-moz-any([checked="true"], [disabled="true"])), 
    toolbarbutton.bookmark-item:not(.subviewbutton):not([disabled="true"]):not([open]):not(#PanelUI-menu-button), 
    toolbar .toolbarbutton-1:not([disabled="true"]):not([checked]):not([open]):not(:active):not(#PanelUI-menu-button) > .toolbarbutton-icon, 
    toolbar .toolbarbutton-1:not([disabled="true"]):not([checked]):not([open]):not(:active):not(#PanelUI-menu-button) > .toolbarbutton-text, 
    toolbar .toolbarbutton-1:not([disabled="true"]):not([checked]):not([open]):not(:active):not(#PanelUI-menu-button) > .toolbarbutton-badge-stack {
        color: var(--firefox-safari-style-tab-color) !important;
    }
    toolbarbutton#OtherBookmarks {
        max-height: calc(var(--firefox-safari-style-tab-height) - 7px) !important;
        transform: translateY(3px);
    }
    #PersonalToolbar .toolbarbutton-1:not([disabled="true"]):not([checked]):not([open]):not(:active):hover, 
    .tabbrowser-arrowscrollbox:not([scrolledtostart="true"])::part(scrollbutton-up):hover, 
    .tabbrowser-arrowscrollbox:not([scrolledtoend="true"])::part(scrollbutton-down):hover, 
    .findbar-button:not(:-moz-any([checked="true"], [disabled="true"])):hover, 
    toolbarbutton.bookmark-item:not(.subviewbutton):hover:not([disabled="true"]):not([open]):not(#PanelUI-menu-button), 
    toolbar .toolbarbutton-1:not([disabled="true"]):not([checked]):not([open]):not(:active):not(#PanelUI-menu-button):hover > .toolbarbutton-icon, 
    toolbar .toolbarbutton-1:not([disabled="true"]):not([checked]):not([open]):not(:active):not(#PanelUI-menu-button):hover > .toolbarbutton-text, 
    toolbar .toolbarbutton-1:not([disabled="true"]):not([checked]):not([open]):not(:active):not(#PanelUI-menu-button):hover > .toolbarbutton-badge-stack {
        color: var(--firefox-safari-style-tab-hover-color) !important;
        background-color: var(--firefox-safari-style-tab-hover-background) !important;
    }
    #PersonalToolbar .toolbarbutton-1:-moz-focusring, 
    .findbar-button:-moz-focusring, findbar toolbarbutton.tabbable:-moz-focusring, 
    toolbarbutton.bookmark-item:not(.subviewbutton):-moz-focusring, 
    toolbar:not(#PersonalToolbar) .toolbarbutton-1:-moz-focusring > .toolbarbutton-icon, 
    toolbar:not(#PersonalToolbar) .toolbarbutton-1:-moz-focusring > .toolbarbutton-text, 
    toolbar:not(#PersonalToolbar) .toolbarbutton-1:-moz-focusring > .toolbarbutton-badge-stack {
        outline: none !important;
    }
    toolbarbutton.bookmark-item {
        opacity: 0.7 !important;
        &:-moz-window-inactive {
            opacity: 0.6 !important;
        }
        &:-moz-lwtheme-brighttext {
            opacity: 1 !important;
            color: var(--firefox-safari-style-tab-color) !important;
        }
    }
    #scrollbutton-up,
    #scrollbutton-down {
        border-left: 1px solid var(--firefox-safari-style-tab-border-left-color-active) !important;
        border-right: 1px solid transparent !important;
        margin-bottom: 0 !important;
        &:-moz-window-inactive {
            border-left-color: var(--firefox-safari-style-tab-border-left-color-inactive) !important;
        }
        &, image { 
            opacity: 1 !important;
        }
        image {
            fill: var(--firefox-safari-style-button-color) !important;
            border-color: var(--firefox-safari-style-button-color) !important;
            max-width: 12px;
            opacity: 1 !important;
            &:-moz-window-inactive {
                opacity: 0.5 !important;
            }
        }
        &[disabled="true"] image {
            opacity: 0.4 !important;
        }
    }
    #scrollbutton-up:not([disabled="true"]) {
        border-right: 1px solid var(--firefox-safari-style-tab-border-left-color-active) !important;
        &:-moz-window-inactive {
            border-right-color: var(--firefox-safari-style-tab-border-left-color-inactive) !important;
        }
    }
    #scrollbutton-up ~ spacer {
        opacity: 0 !important;
    }
    spacer[part="overflow-start-indicator"],
    spacer[part="overflow-end-indicator"] {
        border-image: none !important;
        border-left-width: 0 !important;
        border-right-width: 0 !important;
    }
    #personal-bookmarks .bookmark-item .toolbarbutton-icon {
        display: none !important;
    }
    #appMenu-popup, #widget-overflow {
        filter: drop-shadow(0 0 1px rgba(0,0,0,0.1));
    }
    #identity-box:hover:not(.no-hover):not([open="true"]), 
    #tracking-protection-icon-container:hover:not([open="true"]) {
        background-color: transparent !important;
    }
    #scrollbutton-up,
    #scrollbutton-down {
        min-width: 26px;
        list-style: none !important;
        &, & image {
            fill: var(--firefox-safari-style-tab-color) !important;
        }
        image {
            background: url(chrome://global/skin/icons/arrow-left.svg) 50% 50% / 12px 12px no-repeat;
            width: 12px;
            height: 12px;
        }
        background-color: transparent !important;
        @if $firefox-safari-style-support-themes != true {
            background-image: linear-gradient(to bottom, var(--firefox-safari-style-tab-background-color-inactive) 0%, var(--firefox-safari-style-tab-background-color-inactive) 100%) !important;
        }
        &:not([disabled="true"]):hover {
            background-image: linear-gradient(to bottom, var(--firefox-safari-style-tab-background-color-hover) 0%, var(--firefox-safari-style-tab-background-color-hover) 100%) !important;
        }
    }
    #scrollbutton-down image {
        transform: rotate(180deg) !important;
    }
    .tab-icon-image:not([src]):not([pinned]):not([crashed]):not([busy]):not([pictureinpicture])[selected]:not(:hover), 
    .tab-icon-image:not([src]):not([pinned]):not([crashed]):not([busy]):not([sharing]):not([pictureinpicture]):not(:hover) {
        display: block !important;
        background: url(chrome://branding/content/icon32.png) 50% 50% / 16px 16px no-repeat;
    }
    .urlbar-icon:-moz-focusring, .urlbar-icon-wrapper:-moz-focusring {
        outline: none !important;
    }
    .tabbrowser-tab:not([pinned]) {
        max-width: none !important;
    }
}